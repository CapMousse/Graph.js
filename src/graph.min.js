!function(){function t(t,o,n){var i=this;if(i.options={paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,showCircle:!1,circle:"#55AA77",circleSize:4,background:"#FFFFFF",showZeroLine:!1,zeroLineColor:"#EEE",lineColor:"#C5C5C5",lineWidth:3,showBounds:!1,bounds:"#8888EE",boundsHeight:14,boundsFont:"Arial"},!Array.isArray(t))throw new Error("Data is not an array");if(!o||!o.nodeName||"CANVAS"!==o.nodeName)throw new Error("Canvas not defined");if(i.data=t,i.canvas=o,i.context=o.getContext("2d"),n)for(var e in n)n.hasOwnProperty(e)&&(i.options[e]=n[e]);i.init(),i.draw()}t.prototype.init=function(){var t=this;t.options.showBounds&&(t.options.paddingLeft=t.options.paddingLeft||20,t.options.paddingTop=t.options.paddingTop||20,t.options.paddingBottom=t.options.paddingBottom||20),t.options.showCircle&&(t.options.paddingRight=t.options.paddingRight||t.options.circleSize,t.options.paddingTop=t.options.paddingTop||t.options.circleSize,t.options.paddingBottom=t.options.paddingBottom||t.options.circleSize)},t.prototype.draw=function(){var t=this;t.drawBackground(),t.drawMiddle(),t.computeScale(),t.drawScale(),t.drawData(),t.drawCircle(),t.drawBounds()},t.prototype.drawBackground=function(){var t=this;t.context.fillStyle=t.options.background,t.context.fillRect(0,0,t.canvas.width,t.canvas.height)},t.prototype.drawMiddle=function(){var t=this,o=Math.round(t.canvas.height/2);t.options.showZeroLine&&(t.context.moveTo(t.options.paddingLeft,o),t.context.lineTo(t.canvas.width-t.options.paddingRight,o),t.context.strokeStyle=t.options.zeroLineColor,t.context.stroke())},t.prototype.computeScale=function(){var t=this,o=Math.abs(Math.max.apply(null,t.data)),n=Math.abs(Math.min.apply(null,t.data)),i=t.canvas.height,e=t.canvas.width;t.max=Math.max(o,n),i-=t.options.paddingTop+t.options.paddingBottom,e-=t.options.paddingLeft+t.options.paddingRight,t.verticalScale=i/2/t.max,t.horizontalScale=e/(t.data.length-1)},t.prototype.drawScale=function(){var t=this;t.options.showBounds&&(t.context.moveTo(t.options.paddingLeft,t.options.paddingTop),t.context.lineTo(t.options.paddingLeft,t.canvas.height-t.options.paddingBottom),t.context.strokeStyle=t.options.zeroLineColor,t.context.stroke())},t.prototype.drawData=function(){var t=this,o=this.data.length-2;for(t.context.strokeStyle=t.options.lineColor,t.context.lineWidth=t.options.lineWidth,t.context.beginPath(),t.context.moveTo.apply(t.context,t.getPointCoordinates(t.data.length-1));o>=0;o--)t.context.lineTo.apply(t.context,t.getPointCoordinates(o));t.context.stroke()},t.prototype.getPointCoordinates=function(t){var o=this;return[o.options.paddingLeft+t*o.horizontalScale,o.canvas.height/2-o.verticalScale*o.data[t]]},t.prototype.drawCircle=function(){var t=this,o=t.getPointCoordinates(t.data.length-1);t.options.showCircle&&(t.context.fillStyle=t.options.circle,t.context.beginPath(),t.context.arc(o[0],o[1],t.options.circleSize,0,2*Math.PI),t.context.closePath(),t.context.fill())},t.prototype.drawBounds=function(){var t=this;t.options.showBounds&&(t.context.font=t.options.boundsHeight+"px "+t.options.boundsFont,t.context.fillStyle=t.options.bounds,t.context.textBaseline="middle",t.context.textAlign="center",t.context.fillText(t.max,t.options.paddingLeft,t.options.paddingTop-t.options.boundsHeight),t.context.fillText("-"+t.max,t.options.paddingLeft,t.canvas.height-t.options.paddingBottom+t.options.boundsHeight))},this.Graph=t}(this);